<div class="favoriteBox">
    <md-checkbox class="md-primoExplore-theme flex-5" ng-model="vm.chooseAll" ng-click="vm.checkAll()">
    </md-checkbox>
    <span>{{vm.itemList.length}} items</span>
    <md-button ng-if="vm.chooseAll" ng-click="vm.unpinAll()" class="md-icon-button custom-button prm-primary md-button md-primoExplore-theme md-ink-ripple" aria-label="Unpin this item">
        <md-icon md-svg-icon="primo-ui:prm_unpin" class="md-primoExplore-theme">
        </md-icon>
    </md-button>
</div>
<md-card ng-repeat="item in vm.itemList track by $index" class="favoriteBox">
<div layout="row" id="{{item.pnx.control.recordid[0]}}">
    <div flex="5" class="itemCenter">
        <span class="itemNumber">{{$index+1}}</span>
        <md-checkbox class="md-primoExplore-theme flex-5" ng-model="item.checked">
        </md-checkbox>
    </div>
    <div flex="10">
        <div class="media-thumbnail pointer" ng-click="vm.openDialog($event,item)" tabindex="0" ng-keypress="vm.openDialog2($event,item)">
            <img ng-if="item.pnx.links.thumbnail" src="{{item.pnx.links.thumbnail|urlFilter}}" class="md-avatar tinyPhoto"/>
            <div ng-if="!item.pnx.links.thumbnail" class="tinyNoPhoto"></div>
        </div>
    </div>
    <div flex="65" class="md-list-item-text md-primoExplore-theme pointer" ng-click="vm.openDialog($event,item)">
        <a ng-click="$event.preventDefault()" href="/primo-explore/fulldisplay?docid={{item.pnx.control.recordid[0]}}&vid={{vm.parentCtrl.vid}}">
        <span class="item-title" ng-repeat="title in item.pnx.display.title track by $index">
            {{title}}
        </span>&nbsp;
        </a>
    </div>
    <div flex="20">

        <md-button ng-click="vm.openActionDialog($event,item,item.pnx.control.recordid[0],$index,'E-mail')" class="md-icon-button custom-button prm-primary md-button md-primoExplore-theme md-ink-ripple" aria-label="Email">
            <md-icon md-svg-icon="primo-actions:email" class="md-primoExplore-theme">

            </md-icon>
        </md-button>

        <md-button ng-click="vm.unpin($index,item.pnx.control.recordid[0])" class="md-icon-button custom-button unpin-button md-button md-primoExplore-theme md-ink-ripple un-pinned" aria-label="Unpin this item">
           <md-icon md-svg-icon="primo-ui:prm_unpin" class="md-primoExplore-theme">

           </md-icon>
        </md-button>

        <md-button ng-click="vm.openActionDialog($event,item,item.pnx.control.recordid[0],$index,'none')" class="md-icon-button custom-button prm-primary md-button md-primoExplore-theme md-ink-ripple" aria-label="More actions">
            <md-icon md-svg-icon="navigation:ic_more_horiz_24px" class="md-primoExplore-theme">

            </md-icon>
        </md-button>

    </div>

</div>
</md-card>
